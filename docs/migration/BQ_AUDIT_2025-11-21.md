---
**‚ö†Ô∏è CRITICAL: NO FAKE DATA ‚ö†Ô∏è**
This project uses ONLY real, verified data sources. NO placeholders, NO synthetic data, NO fake values.
All data must come from authenticated APIs, official sources, or validated historical records.
---

# BigQuery Fresh Audit - Post-Cleanup State
**Date:** November 21, 2025  
**Status:** ‚úÖ COMPLETE - Actual Current State Documented  
**Purpose:** Document actual BigQuery state after institutional naming cleanup

---

## üéØ AUDIT CONTEXT

### What This Audit Shows

This is a **fresh audit** of BigQuery's actual current state after:
- Intentional cleanup of old datasets/tables
- Implementation of institutional naming conventions
- Creation of empty table shells with correct schema
- Removal of legacy/placeholder data

### Critical Finding

**BigQuery is intentionally a LANDING PAD:**
- Most tables are **empty shells** (0 rows) with correct institutional schema
- Some tables have **real data** from Nov 20 migration test
- Training tables are **ALL EMPTY** (ready to be populated)
- Clean foundation, minimal data

---

## üìä DATASET SUMMARY

### Actual Datasets in BQ (November 21, 2025)

| Dataset | Tables | Views | Total Objects | Populated Tables | Empty Tables |
|---------|--------|-------|---------------|------------------|--------------|
| `api` | 1 | 3 | 4 | 0 | 1 |
| `features` | 2 | 1 | 3 | 1 | 1 |
| `market_data` | 11 | 2 | 13 | 2 | 9 |
| `monitoring` | 1 | 0 | 1 | 0 | 1 |
| `predictions` | 0 | 0 | 0 | 0 | 0 |
| `raw_intelligence` | 11 | 0 | 11 | 8 | 3 |
| `training` | 19 | 0 | 19 | 0 | 19 |
| `z_archive_20251119` | ? | ? | ? | ? | ? |
| **TOTAL** | **45** | **6** | **51** | **11** | **34** |

---

## üóÇÔ∏è COMPLETE TABLE INVENTORY

### `market_data` (13 objects: 11 tables, 2 views)

| Table | Type | Rows | Size MB | Last Modified | Partitioning | Clustering | Status |
|-------|------|------|---------|---------------|--------------|------------|--------|
| `cme_indices_eod` | TABLE | 0 | 0.0 | 2025-11-19 02:20 | DAY (date) | index_type, product | ‚è∏Ô∏è Empty shell |
| `databento_futures_continuous_1d` | TABLE | 0 | 0.0 | 2025-11-19 02:20 | DAY (date) | root, cont_id | ‚è∏Ô∏è Empty shell |
| `databento_futures_ohlcv_1d` | TABLE | 0 | 0.0 | 2025-11-19 02:20 | DAY (date) | root, symbol, is_spread | ‚è∏Ô∏è Empty shell |
| `databento_futures_ohlcv_1m` | TABLE | 0 | 0.0 | 2025-11-19 02:20 | DAY (ts_event, 1yr exp) | root, is_spread, priority_tier | ‚è∏Ô∏è Empty shell |
| `es_futures_daily` | TABLE | **6,308** | 2.77 | **2025-11-20 05:17** | None | date, symbol | ‚úÖ POPULATED |
| `futures_curve_1d` | TABLE | 0 | 0.0 | 2025-11-19 02:20 | DAY (date) | root, contract | ‚è∏Ô∏è Empty shell |
| `futures_ohlcv_1d` | VIEW | N/A | 0.0 | 2025-11-19 02:21 | N/A | N/A | ‚úÖ View |
| `futures_ohlcv_1m` | VIEW | N/A | 0.0 | 2025-11-19 02:21 | N/A | N/A | ‚úÖ View |
| `fx_daily` | TABLE | 0 | 0.0 | 2025-11-19 02:20 | DAY (date) | pair, source | ‚è∏Ô∏è Empty shell |
| `orderflow_1m` | TABLE | 0 | 0.0 | 2025-11-19 02:20 | DAY (ts_minute, 90d exp) | root | ‚è∏Ô∏è Empty shell |
| `roll_calendar` | TABLE | 0 | 0.0 | 2025-11-19 02:20 | DAY (roll_date) | root, method | ‚è∏Ô∏è Empty shell |
| `yahoo_historical_prefixed` | TABLE | **6,380** | 2.6 | **2025-11-20 05:17** | None | date, symbol | ‚úÖ POPULATED |
| `yahoo_zl_historical_2000_2010` | TABLE | 0 | 0.0 | 2025-11-19 02:20 | DAY (date) | None | ‚è∏Ô∏è Empty shell |

**Summary:**
- 2 tables with data (Yahoo, ES) - **12,688 rows total**
- 9 empty shells ready for DataBento/FX data
- 2 views defined

---

### `raw_intelligence` (11 tables)

| Table | Type | Rows | Size MB | Last Modified | Partitioning | Clustering | Status |
|-------|------|------|---------|---------------|--------------|------------|--------|
| `cftc_positioning` | TABLE | **522** | 0.75 | **2025-11-20 05:17** | None | date | ‚úÖ POPULATED |
| `eia_biofuels` | TABLE | **828** | 0.02 | **2025-11-20 05:17** | None | date | ‚úÖ POPULATED |
| `fred_economic` | TABLE | **9,452** | 0.86 | **2025-11-20 05:17** | None | date | ‚úÖ POPULATED |
| `news_bucketed` | TABLE | 0 | 0.0 | 2025-11-19 02:21 | DAY (date) | bucket | ‚è∏Ô∏è Empty shell |
| `news_intelligence` | TABLE | 0 | 0.0 | 2025-11-19 02:21 | DAY (published_at) | primary_topic, directional_impact_zl | ‚è∏Ô∏è Empty shell |
| `palm_oil_daily` | TABLE | **1,269** | 0.01 | **2025-11-20 05:17** | None | date | ‚úÖ POPULATED |
| `policy_events` | TABLE | **25** | 0.01 | **2025-11-20 05:17** | None | date | ‚úÖ POPULATED |
| `usda_granular` | TABLE | **6** | 0.0 | **2025-11-20 05:17** | DAY (date) | None | ‚úÖ POPULATED |
| `volatility_daily` | TABLE | **9,069** | 1.1 | **2025-11-20 05:17** | None | date | ‚úÖ POPULATED |
| `weather_segmented` | TABLE | **9,438** | 4.22 | **2025-11-20 05:17** | None | date | ‚úÖ POPULATED |
| `weather_weighted` | TABLE | 0 | 0.0 | 2025-11-19 02:21 | DAY (date) | None | ‚è∏Ô∏è Empty shell |

**Summary:**
- 8 tables with real data (FRED, weather, CFTC, etc.) - **30,609 rows total**
- 3 empty shells (news tables, weather_weighted)
- All populated tables updated **Nov 20, 2025** (migration test)

---

### `features` (3 objects: 2 tables, 1 view)

| Table | Type | Rows | Size MB | Last Modified | Partitioning | Clustering | Status |
|-------|------|------|---------|---------------|--------------|------------|--------|
| `master_features` | TABLE | 0 | 0.0 | 2025-11-19 02:26 | DAY (date) | symbol, regime | ‚è∏Ô∏è Empty shell |
| `master_features_all` | VIEW | N/A | 0.0 | **2025-11-20 05:18** | N/A | N/A | ‚úÖ VIEW (working) |
| `regime_calendar` | TABLE | **9,497** | 0.39 | **2025-11-20 05:17** | None | date, regime | ‚úÖ POPULATED |

**Summary:**
- View `master_features_all` is working (queries 6,380 rows from underlying tables)
- Table `master_features` is empty (view vs table approach)
- Regime calendar populated with 9,497 rows

---

### `training` (19 tables) - **ALL EMPTY**

#### ZL Training Tables (5 horizons)

| Table | Rows | Size MB | Created | Last Modified | Partitioning | Clustering |
|-------|------|---------|---------|---------------|--------------|------------|
| `zl_training_prod_allhistory_1w` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:21 | None | None |
| `zl_training_prod_allhistory_1m` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:21 | None | None |
| `zl_training_prod_allhistory_3m` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:21 | None | None |
| `zl_training_prod_allhistory_6m` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:21 | None | None |
| `zl_training_prod_allhistory_12m` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:21 | None | None |

#### MES Training Tables (12 horizons)

| Table | Rows | Size MB | Created | Last Modified | Partitioning | Clustering |
|-------|------|---------|---------|---------------|--------------|------------|
| `mes_training_prod_allhistory_1min` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | DAY (ts_event) | regime |
| `mes_training_prod_allhistory_5min` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | None | None |
| `mes_training_prod_allhistory_15min` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | None | None |
| `mes_training_prod_allhistory_30min` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | None | None |
| `mes_training_prod_allhistory_1hr` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | None | None |
| `mes_training_prod_allhistory_4hr` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | None | None |
| `mes_training_prod_allhistory_1d` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | None | None |
| `mes_training_prod_allhistory_7d` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | None | None |
| `mes_training_prod_allhistory_30d` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | None | None |
| `mes_training_prod_allhistory_3m` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | None | None |
| `mes_training_prod_allhistory_6m` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | None | None |
| `mes_training_prod_allhistory_12m` | **0** | 0.0 | 2025-11-19 | 2025-11-19 02:22 | None | None |

#### Supporting Tables

| Table | Rows | Size MB | Last Modified | Status |
|-------|------|---------|---------------|--------|
| `regime_calendar` | **0** | 0.0 | 2025-11-19 02:21 | ‚è∏Ô∏è Empty (duplicate?) |
| `regime_weights` | **0** | 0.0 | 2025-11-19 02:21 | ‚è∏Ô∏è Empty |

**CRITICAL:** All 19 training tables created Nov 19 but **NEVER POPULATED**

---

### `predictions` (0 tables)

**Dataset exists but contains NO tables yet.**

---

### `monitoring` (1 table)

| Table | Rows | Size MB | Last Modified | Status |
|-------|------|---------|---------------|--------|
| `model_performance` | 0 | 0.0 | 2025-11-19 02:27 | ‚è∏Ô∏è Empty shell |

---

### `api` (4 objects: 1 table, 3 views)

| Table | Type | Rows | Last Modified | Status |
|-------|------|------|---------------|--------|
| `current_forecasts` | TABLE | 0 | 2025-10-29 22:47 | ‚è∏Ô∏è Empty (old) |
| `vw_market_intelligence` | VIEW | N/A | 2025-10-20 13:45 | ‚úÖ View (old) |
| `vw_ultimate_adaptive_signal` | VIEW | N/A | 2025-11-15 15:37 | ‚úÖ View |
| `vw_ultimate_adaptive_signal_historical` | VIEW | N/A | 2025-11-15 14:17 | ‚úÖ View |

---

## üìä DATA SUMMARY

### Total Actual Data in BigQuery

| Category | Tables | Total Rows | Total Size MB | Status |
|----------|--------|------------|---------------|--------|
| **With Data** | 11 | **43,297** | 12.48 | ‚úÖ Real data |
| **Empty Shells** | 34 | 0 | 0.0 | ‚è∏Ô∏è Ready for data |
| **Views** | 6 | N/A | N/A | ‚úÖ Defined |
| **TOTAL** | 51 | 43,297 | 12.48 | Mixed |

### Populated Tables Breakdown

**Market Data (2 tables, 12,688 rows):**
- `yahoo_historical_prefixed`: 6,380 rows (2.6 MB)
- `es_futures_daily`: 6,308 rows (2.77 MB)

**Raw Intelligence (8 tables, 30,609 rows):**
- `fred_economic`: 9,452 rows (0.86 MB) - 2000-01-01 to 2025-11-16
- `weather_segmented`: 9,438 rows (4.22 MB)
- `volatility_daily`: 9,069 rows (1.1 MB)
- `cftc_positioning`: 522 rows (0.75 MB)
- `eia_biofuels`: 828 rows (0.02 MB)
- `palm_oil_daily`: 1,269 rows (0.01 MB)
- `policy_events`: 25 rows (0.01 MB)
- `usda_granular`: 6 rows (0.0 MB)

**Features (1 table, 9,497 rows):**
- `regime_calendar`: 9,497 rows (0.39 MB)

---

## üîç KEY FINDINGS

### 1. Dataset Structure ‚úÖ

**Present:**
- ‚úÖ `market_data` - 13 objects (correct structure)
- ‚úÖ `raw_intelligence` - 11 tables (correct structure)
- ‚úÖ `features` - 3 objects (correct structure)
- ‚úÖ `training` - 19 tables (correct structure)
- ‚úÖ `predictions` - Dataset exists (empty, ready)
- ‚úÖ `monitoring` - 1 table (empty shell)
- ‚úÖ `api` - 4 objects (some legacy views)

**Missing (from FINAL_COMPLETE_BQ_SCHEMA.sql):**
- ‚ùå `signals` - Expected for derived signals/spreads/Big 8
- ‚ùå `regimes` - Expected for regime classifications
- ‚ùå `drivers` - Expected for primary/meta drivers
- ‚ùå `neural` - Expected for neural training features

**Question for Three-Way Review:** Should missing datasets be created now or deferred?

---

### 2. Data Population State

**‚úÖ Populated (43,297 rows real data):**
- Market: Yahoo ZL (6,380), ES futures (6,308)
- Macro: FRED (9,452), CFTC (522), USDA (6), EIA (828)
- Domain: Weather (9,438), volatility (9,069), palm oil (1,269)
- Policy: Trump signals (25)
- Regimes: Regime calendar (9,497)

**‚è∏Ô∏è Empty Shells (34 tables, 0 rows):**
- All DataBento tables (futures_ohlcv_1d, futures_ohlcv_1m, fx_daily, etc.)
- All training tables (19 tables - ZL + MES)
- News tables (news_intelligence, news_bucketed)
- Weather weighted
- Predictions/monitoring tables

---

### 3. Critical Gaps

**Empty Training Tables:**
- All 17 training tables (ZL + MES) are **0 rows**
- Created Nov 19 but never populated
- Need SQL to populate from `features.master_features_all`

**Missing DataBento Data:**
- All DataBento tables empty (futures_ohlcv_1d, futures_ohlcv_1m, fx_daily)
- Local DataBento files exist but not loaded to BQ
- Need load scripts

**Missing News Data:**
- `news_intelligence` and `news_bucketed` empty
- Alpha Vantage collector script missing (per TABLE_MAPPING_MATRIX)
- ScrapeCreators ready but not loaded

**Pivot Point Mismatch (Corrected + Integration Tested):**
- Impact: Schema previously had 5 Yahoo legacy pivot columns and 0 Databento production pivots; initial Phase 1 update had incorrect column names that wouldn't match calculator output
- Resolution: "Basic Swap" approved (remove 5 Yahoo pivots; add 9 core Databento pivots with **verified column names**: `P`, `R1`, `R2`, `S1`, `S2`, `distance_to_P`, `distance_to_nearest_pivot`, `weekly_pivot_distance`, `price_above_P`)
- Integration Test: ‚úÖ PASSED - Column names verified to match `cloud_function_pivot_calculator.py` output exactly (Gemini catch prevented load job failures)
- Status: ‚úÖ Corrected in FINAL_COMPLETE_BQ_SCHEMA.sql (Phase 1 core); extended pivots deferred to Phase 2

---

## üîÑ COMPARISON TO CANONICAL SCHEMA

### From `FINAL_COMPLETE_BQ_SCHEMA.sql`

| Schema Element | Expected | Actual | Match | Notes |
|----------------|----------|--------|-------|-------|
| **Datasets** |
| market_data | ‚úÖ | ‚úÖ | ‚úÖ | Present |
| raw_intelligence | ‚úÖ | ‚úÖ | ‚úÖ | Present |
| signals | ‚úÖ | ‚ùå | ‚ùå | **Missing dataset** |
| features | ‚úÖ | ‚úÖ | ‚úÖ | Present |
| training | ‚úÖ | ‚úÖ | ‚úÖ | Present |
| regimes | ‚úÖ | ‚ùå | ‚ùå | **Missing dataset** |
| drivers | ‚úÖ | ‚ùå | ‚ùå | **Missing dataset** |
| neural | ‚úÖ | ‚ùå | ‚ùå | **Missing dataset** |
| predictions | ‚úÖ | ‚úÖ | ‚úÖ | Present (empty) |
| monitoring | ‚úÖ | ‚úÖ | ‚úÖ | Present |
| **Tables (Sample)** |
| market_data.databento_futures_ohlcv_1d | ‚úÖ | ‚úÖ | ‚úÖ | Schema matches |
| market_data.yahoo_historical_prefixed | ‚úÖ | ‚úÖ | ‚úÖ | Schema matches |
| training.zl_training_prod_allhistory_1w | ‚úÖ | ‚úÖ | ‚úÖ | Schema matches |
| features.master_features_all | ‚úÖ | ‚úÖ | ‚úÖ | View working |

**Missing Datasets Decision Point:**
- `signals`, `regimes`, `drivers`, `neural` defined in schema but not created
- Need three-way review: Create now? Defer? Merge into existing datasets?

---

## üìã ACTION ITEMS FOR PHASE 2

### Immediate Questions:

1. **Missing Datasets**: Should we create `signals`, `regimes`, `drivers`, `neural` now?
2. **Training Tables**: Confirm these should be populated from `features.master_features_all` + horizon filters?
3. **DataBento Load**: Are schemas correct for loading local DataBento files?
4. **News Load**: Are news tables ready for Alpha Vantage + ScrapeCreators data?
5. **Master Features**: Use table (`master_features`) or view (`master_features_all`)?

### Next Audit Steps:

- [ ] Complete Phase 2: Data & Features Audit (where each source lives locally vs BQ)
- [ ] Complete Phase 3: Models & Calculations Audit (what's implemented vs planned)
- [ ] Sweep FX docs for naming/features
- [ ] Sweep MES docs for horizons/features
- [ ] Sweep weather docs for region segmentation
- [ ] Sweep news docs for bucket taxonomy

---

## ‚úÖ THREE-WAY REVIEW CHECKPOINT

**Before ANY BigQuery changes (loads, schema updates, automation):**

### Review & Signoff Required:

- [ ] **Human (Kirk)**: Review and approve actual BQ state
- [ ] **Codex (GPT-5.1)**: Review and approve actual BQ state
- [ ] **Sonnet (Claude 4.5)**: Review and approve actual BQ state

### Questions for Review:

1. Are the 4 missing datasets (`signals`, `regimes`, `drivers`, `neural`) needed now or deferred?
2. Should we proceed with populating empty training tables from master_features_all?
3. Are DataBento table schemas correct for loading local data?
4. Should news tables be populated next, or is that deferred?
5. What's the relationship between `features.master_features` (table, empty) and `features.master_features_all` (view, working)?

**NO BigQuery changes until unanimous approval.**

---

## üìä AUDIT STATUS

- [x] Dataset inventory complete (8 datasets)
- [x] Table/view inventory complete (51 objects)
- [x] Row counts verified (43,297 rows real data)
- [x] Empty shells documented (34 tables)
- [x] Schema comparison started
- [ ] Phase 2: Data & Features Audit
- [ ] Phase 3: Models & Calculations Audit
- [ ] QUAD_CHECK sweep complete
- [ ] Three-way review complete
- [ ] Canonical plans updated

---

**Status:** ‚úÖ Phase 1 Complete - Actual BQ State Documented - Ready for Three-Way Review
