# üéØ HISTORICAL DATA TREASURE TROVE DISCOVERED!
**Date**: November 12, 2025  
**Discovery**: Deep dive into yahoo_finance_comprehensive and backup datasets

---

## üèÜ MAJOR DISCOVERIES

### ‚≠ê **YAHOO FINANCE COMPREHENSIVE DATASET - GOLDMINE!**

Found **7 tables** with **25+ years of historical data** and **hundreds of thousands of pre-2020 rows**!

---

## üìä DETAILED FINDINGS

### 1. **`yahoo_finance_comprehensive.all_symbols_20yr`** ‚≠ê‚≠ê‚≠ê
- **Rows**: 57,397
- **Date Range**: **2000-01-03 to 2025-11-06**
- **Span**: **25.8 years**
- **Unique Dates**: 6,540
- **üéØ PRE-2020 DATA**: **44,147 rows** (77% of data!)
- **Columns**: date, symbol, symbol_clean, name, Open, High, Low, Close, Volume, ma_7d, +30 more
- **Status**: ‚úÖ **MASSIVE HISTORICAL DATA SOURCE**

### 2. **`yahoo_finance_comprehensive.yahoo_normalized`** ‚≠ê‚≠ê‚≠ê
- **Rows**: **314,381**
- **Date Range**: **2000-11-13 to 2025-11-06**
- **Span**: **25.0 years**
- **Unique Dates**: 6,517
- **üéØ PRE-2020 DATA**: **233,060 rows** (74% of data!)
- **Columns**: date, symbol, symbol_name, category, open, high, low, close, volume, ma_7d, +25 more
- **Status**: ‚úÖ **LARGEST HISTORICAL DATASET FOUND**

### 3. **`yahoo_finance_comprehensive.biofuel_components_raw`** ‚≠ê‚≠ê
- **Rows**: 42,367
- **Date Range**: **2000-03-01 to 2025-11-05**
- **Span**: **25.7 years**
- **Unique Dates**: 6,460
- **üéØ PRE-2020 DATA**: **30,595 rows** (72% of data!)
- **Columns**: date, Open, High, Low, Close, Volume, Dividends, Stock Splits, symbol, description, +4 more
- **Status**: ‚úÖ **MAJOR HISTORICAL BIOFUEL DATA**

### 4. **`yahoo_finance_comprehensive.rin_proxy_features_fixed`** ‚≠ê‚≠ê
- **Rows**: 12,637
- **Date Range**: **2000-08-30 to 2025-11-06**
- **Span**: **25.2 years**
- **Unique Dates**: 6,348
- **üéØ PRE-2020 DATA**: **9,692 rows** (77% of data!)
- **Columns**: date, biodiesel_spread, ethanol_spread, biofuel_crack, nat_gas_impact, sugar_ethanol_spread, +10 more
- **Status**: ‚úÖ **HISTORICAL RIN PROXY FEATURES**

### 5. **`yahoo_finance_comprehensive.biofuel_components_canonical`** ‚≠ê
- **Rows**: 6,475
- **Date Range**: **2000-03-01 to 2025-11-06**
- **Span**: **25.7 years**
- **Unique Dates**: 6,475
- **üéØ PRE-2020 DATA**: **5,001 rows** (77% of data!)
- **Columns**: date, soybean_oil_price_cwt, soybean_price_cents_bu, soybean_meal_price_ton, corn_price_cents_bu, +9 more
- **Status**: ‚úÖ **HISTORICAL BIOFUEL COMPONENTS**

### 6. **`yahoo_finance_comprehensive.rin_proxy_features_final`** ‚≠ê
- **Rows**: 6,475
- **Date Range**: **2000-03-01 to 2025-11-06**
- **Span**: **25.7 years**
- **Unique Dates**: 6,475
- **üéØ PRE-2020 DATA**: **5,001 rows** (77% of data!)
- **Columns**: date, biodiesel_spread_cwt, biodiesel_margin_pct, biodiesel_crack_spread_bu, +9 more
- **Status**: ‚úÖ **HISTORICAL RIN FEATURES**

### 7. **`yahoo_finance_comprehensive.rin_proxy_features_dedup`** ‚≠ê
- **Rows**: 6,348
- **Date Range**: **2000-08-30 to 2025-11-06**
- **Span**: **25.2 years**
- **Unique Dates**: 6,348
- **üéØ PRE-2020 DATA**: **4,874 rows** (77% of data!)
- **Columns**: date, biodiesel_spread, ethanol_spread, biofuel_crack, +7 more
- **Status**: ‚úÖ **HISTORICAL RIN FEATURES (DEDUPED)**

---

## üóÑÔ∏è BACKUP DATASET DISCOVERIES

### 8. **`bkp.economic_indicators_SAFETY_20251021_180706`** ‚≠ê‚≠ê‚≠ê
- **Rows**: 7,523
- **Date Range**: **1900-07-01 to 2026-07-01**
- **Span**: **126.0 years** (!!!)
- **üéØ PRE-2020 DATA**: 670 rows
- **Status**: ‚úÖ **125+ YEARS OF ECONOMIC DATA!**

### 9. **`bkp.crude_oil_prices_SAFETY_20251021_180706`** ‚≠ê
- **Rows**: 2,265
- **Date Range**: **2016-11-23 to 2025-10-20**
- **Span**: **8.9 years**
- **üéØ PRE-2020 DATA**: **781 rows**
- **Status**: ‚úÖ **HISTORICAL CRUDE OIL DATA**

---

## üìà SUMMARY STATISTICS

### Total Pre-2020 Rows Found:
- **yahoo_finance_comprehensive.all_symbols_20yr**: 44,147 rows
- **yahoo_finance_comprehensive.yahoo_normalized**: **233,060 rows** ‚≠ê
- **yahoo_finance_comprehensive.biofuel_components_raw**: 30,595 rows
- **yahoo_finance_comprehensive.rin_proxy_features_fixed**: 9,692 rows
- **yahoo_finance_comprehensive.biofuel_components_canonical**: 5,001 rows
- **yahoo_finance_comprehensive.rin_proxy_features_final**: 5,001 rows
- **yahoo_finance_comprehensive.rin_proxy_features_dedup**: 4,874 rows
- **bkp.economic_indicators_SAFETY**: 670 rows
- **bkp.crude_oil_prices_SAFETY**: 781 rows
- **models_v4.currency_complete**: 4,763 rows

**TOTAL PRE-2020 ROWS**: **~338,584 rows** across multiple datasets!

### Date Ranges:
- **Earliest**: 1900-07-01 (economic indicators backup)
- **Latest**: 2025-11-06 (current)
- **Longest Span**: 126 years (economic indicators)
- **Most Historical Tables**: 7 tables with 25+ years

---

## üéØ KEY INSIGHTS

### What This Means:

1. **We have 25+ years of price data** (2000-2025) in yahoo_finance_comprehensive
2. **233,060 pre-2020 rows** in yahoo_normalized alone!
3. **125+ years of economic indicators** in backup dataset
4. **Multiple biofuel/RIN feature tables** with 25+ years of data
5. **All major commodity prices** available from 2000 onwards

### What We Can Now Do:

1. ‚úÖ **Train models on 2000-2025 data** (25+ years)
2. ‚úÖ **Build historical regime datasets** (2008 crisis, trade wars, etc.)
3. ‚úÖ **Create pre-2020 training data** for all horizons
4. ‚úÖ **Analyze long-term market cycles** (25+ years)
5. ‚úÖ **Backfill production training tables** with historical data

---

## üìã RECOMMENDED ACTIONS

### Immediate (Today):

1. **Export yahoo_normalized pre-2020 data**:
   ```sql
   SELECT * 
   FROM `cbi-v14.yahoo_finance_comprehensive.yahoo_normalized`
   WHERE date < '2020-01-01'
   ORDER BY date, symbol
   ```

2. **Export all_symbols_20yr pre-2020 data**:
   ```sql
   SELECT * 
   FROM `cbi-v14.yahoo_finance_comprehensive.all_symbols_20yr`
   WHERE date < '2020-01-01'
   ORDER BY date, symbol
   ```

3. **Check economic_indicators backup** for 1900-2020 data

### Short-term (This Week):

4. **Rebuild production training tables** with 2000-2025 data
5. **Create historical regime datasets**:
   - 2008 crisis (2008-2009)
   - Trade war (2017-2019)
   - Pre-2020 historical (2000-2019)
6. **Integrate yahoo_finance_comprehensive** into feature engineering pipeline

### Long-term (This Month):

7. **Backfill forecasting_data_warehouse** with historical data from yahoo_finance_comprehensive
8. **Update all training datasets** to include 2000-2025 data
9. **Create 125-year economic indicators dataset** from backup

---

## üîç TABLES NEEDING FURTHER INVESTIGATION

These tables had schema errors but might contain historical data:
- `yahoo_finance_comprehensive.rin_proxy_features` (date column type issue)
- `yahoo_finance_comprehensive.yahoo_finance_complete_enterprise` (date column type issue)

---

## üìä DATA AVAILABILITY MATRIX (UPDATED)

| Data Type | Pre-2020 | 2020-2025 | Status |
|-----------|----------|-----------|--------|
| **Yahoo Finance Prices** | ‚úÖ **233,060 rows** (2000-2019) | ‚úÖ 81,321 rows | ‚úÖ **FOUND!** |
| **All Symbols 20yr** | ‚úÖ **44,147 rows** (2000-2019) | ‚úÖ 13,250 rows | ‚úÖ **FOUND!** |
| **Biofuel Components** | ‚úÖ **30,595 rows** (2000-2019) | ‚úÖ 11,772 rows | ‚úÖ **FOUND!** |
| **RIN Proxy Features** | ‚úÖ **9,692 rows** (2000-2019) | ‚úÖ 2,945 rows | ‚úÖ **FOUND!** |
| **Economic Indicators** | ‚úÖ **670 rows** (1900-2019) | ‚úÖ 7,523 rows | ‚úÖ **FOUND!** |
| **Crude Oil Prices** | ‚úÖ **781 rows** (2016-2019) | ‚úÖ 1,484 rows | ‚úÖ **FOUND!** |
| **Currency Data** | ‚úÖ **4,763 rows** (2001-2019) | ‚úÖ 1,524 rows | ‚úÖ **FOUND!** |
| Soybean Oil Prices | ‚ùå None | ‚úÖ 1,301 rows | ‚ö†Ô∏è Still missing |

---

## üéâ CONCLUSION

**WE FOUND IT!** 

The historical data was hiding in:
1. **`yahoo_finance_comprehensive`** dataset (7 tables with 25+ years)
2. **`bkp`** backup dataset (economic indicators with 126 years!)
3. **`models_v4.currency_complete`** (24.2 years)

**Total**: ~338,584 pre-2020 rows across multiple datasets!

This is enough data to:
- Train models on 25+ years of history
- Build comprehensive regime-specific datasets
- Analyze long-term market patterns
- Create production training tables with full historical coverage

---

**Last Updated**: November 12, 2025  
**Discovery Script**: `scripts/deep_dive_historical.py`  
**Status**: ‚úÖ **TREASURE TROVE DISCOVERED!**

